<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Quiz Studio{% endblock %}</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop stop-color='%238f6ed5'/%3E%3Cstop offset='1' stop-color='%23c89eea'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='64' height='64' rx='14' fill='url(%23g)'/%3E%3Cpath d='M18 24h28v4H18zm0 10h20v4H18zm0 10h28v4H18z' fill='white'/%3E%3Ccircle cx='44' cy='36' r='10' fill='%236f4fb8'/%3E%3Cpath d='m40.5 36 2.3 2.3 5.2-5.2 1.7 1.7-6.9 6.9-4-4z' fill='white'/%3E%3C/svg%3E">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Newsreader:opsz,wght@6..72,500;6..72,700&display=swap");

        :root {
            --bg: #f4f0fb;
            --paper: #ffffff;
            --paper-soft: #faf7ff;
            --ink: #2d2441;
            --muted: #6f648d;
            --line: #e3d9f4;
            --brand: #8f6ed5;
            --brand-2: #6f4fb8;
            --accent: #c89eea;
            --accent-2: #5ab9f3;
            --accent-3: #ffa95e;
            --danger: #b33131;
            --success-bg: #f0eaff;
            --success-text: #5e3ca2;
            --warning-bg: #fff3fb;
            --warning-text: #8e4e89;
            --info-bg: #efe9ff;
            --info-text: #5741a4;
            --danger-bg: #ffeaea;
            --radius-lg: 20px;
            --radius-md: 12px;
            --shadow: 0 16px 42px rgba(62, 41, 112, 0.14);
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            font-family: "Outfit", sans-serif;
            color: var(--ink);
            background:
                radial-gradient(900px 400px at -10% -15%, #e8ddff 0%, transparent 60%),
                radial-gradient(760px 260px at 110% -8%, #f2e5ff 0%, transparent 68%),
                var(--bg);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        body::before,
        body::after {
            content: "";
            position: fixed;
            border-radius: 50%;
            filter: blur(6px);
            z-index: -1;
            animation: floaty 8s ease-in-out infinite;
        }

        body::before {
            width: 220px;
            height: 220px;
            right: -70px;
            top: 110px;
            background: radial-gradient(circle at 30% 30%, rgba(143, 110, 213, 0.28), transparent 70%);
        }

        body::after {
            width: 180px;
            height: 180px;
            left: -50px;
            bottom: 70px;
            background: radial-gradient(circle at 40% 40%, rgba(200, 158, 234, 0.3), transparent 70%);
            animation-delay: 1.5s;
        }

        .page {
            width: min(1120px, 100% - 1.4rem);
            margin: 1rem auto 2rem;
        }

        .topbar {
            position: sticky;
            top: 0.7rem;
            z-index: 20;
            padding: 0.75rem 0.85rem;
            background:
                linear-gradient(120deg, rgba(143, 110, 213, 0.08), rgba(90, 185, 243, 0.08)),
                rgba(255, 255, 255, 0.9);
            border: 1px solid #d6c6f0;
            border-radius: 16px;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 0.7rem;
            box-shadow: 0 12px 26px rgba(87, 62, 143, 0.12);
            animation: lift 0.45s ease;
        }

        .brand-wrap {
            display: flex;
            flex-direction: column;
            gap: 0.08rem;
        }

        .brand {
            color: var(--brand-2);
            text-decoration: none;
            font-weight: 800;
            letter-spacing: 0.02em;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.42rem;
        }

        .brand::before {
            content: "";
            width: 11px;
            height: 11px;
            border-radius: 50%;
            background: linear-gradient(130deg, var(--accent), var(--brand));
            box-shadow: 0 0 0 4px rgba(31, 122, 90, 0.12);
            animation: pulse 2.6s ease-in-out infinite;
        }

        .brand-sub {
            margin: 0;
            color: var(--muted);
            font-size: 0.74rem;
            letter-spacing: 0.04em;
            text-transform: uppercase;
            font-weight: 700;
        }

        .nav {
            display: flex;
            gap: 0.42rem;
            flex-wrap: wrap;
            justify-content: flex-end;
            background: #f7f2ff;
            border: 1px solid #e4d9f6;
            padding: 0.25rem;
            border-radius: 12px;
        }

        .nav a {
            text-decoration: none;
            color: var(--muted);
            border-radius: 8px;
            padding: 0.45rem 0.68rem;
            font-weight: 600;
            font-size: 0.86rem;
            transition: all 0.2s ease;
            position: relative;
        }

        .nav a:hover {
            color: var(--brand-2);
            background: #eee5ff;
            transform: translateY(-1px);
        }

        .nav a.active {
            color: #fff;
            background: linear-gradient(120deg, var(--brand-2), var(--brand));
            box-shadow: 0 6px 14px rgba(111, 79, 184, 0.32);
        }

        .nav a::after {
            content: "";
            position: absolute;
            left: 0.65rem;
            right: 0.65rem;
            bottom: 0.3rem;
            height: 2px;
            border-radius: 999px;
            background: linear-gradient(90deg, var(--brand-2), var(--brand));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.25s ease;
        }

        .nav a:hover::after {
            transform: scaleX(1);
        }

        .content {
            margin-top: 1.1rem;
            animation: fade 0.45s ease;
        }

        .hero {
            border: 1px solid var(--line);
            border-radius: var(--radius-lg);
            padding: 1rem 1.1rem;
            background:
                linear-gradient(115deg, rgba(111, 79, 184, 0.15), rgba(90, 185, 243, 0.08) 48%, transparent 70%),
                var(--paper);
            box-shadow: var(--shadow);
            margin-bottom: 1rem;
            animation: lift 0.45s ease;
        }

        .title {
            margin: 0;
            font-size: clamp(1.5rem, 3.5vw, 2.1rem);
            line-height: 1.08;
            font-family: "Newsreader", serif;
            letter-spacing: 0.01em;
        }

        .subtitle {
            margin: 0.4rem 0 0;
            color: var(--muted);
            font-size: 0.96rem;
            max-width: 68ch;
        }

        .card {
            background: var(--paper);
            border: 1px solid var(--line);
            border-radius: var(--radius-lg);
            padding: 1rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow);
            animation: lift 0.45s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--brand), var(--accent-2), var(--accent-3));
            opacity: 0.75;
        }

        .card h3 {
            margin: 0;
            font-family: "Newsreader", serif;
            font-size: 1.22rem;
        }

        .form-card { width: min(600px, 100%); }

        .field { margin-bottom: 0.95rem; }

        .field label {
            display: block;
            margin-bottom: 0.38rem;
            font-size: 0.9rem;
            font-weight: 600;
        }

        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            border: 1px solid var(--line);
            border-radius: 10px;
            padding: 0.7rem 0.78rem;
            font: inherit;
            color: var(--ink);
            background: var(--paper-soft);
            transition: 0.2s ease;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--brand);
            box-shadow: 0 0 0 3px rgba(31, 122, 90, 0.16);
            background: #fff;
        }

        .btn {
            border: 0;
            border-radius: 10px;
            padding: 0.62rem 0.95rem;
            font: inherit;
            font-weight: 700;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.35rem;
            transition: 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .btn-primary {
            color: #fff;
            background: linear-gradient(115deg, var(--brand-2), var(--brand), #6e8dff);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(111, 79, 184, 0.34);
        }

        .btn-primary::after {
            content: "";
            position: absolute;
            inset: 0 auto 0 -130%;
            width: 50%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: skewX(-20deg);
            transition: left 0.45s ease;
        }

        .btn-primary:hover::after {
            left: 140%;
        }

        .btn-secondary {
            color: var(--brand-2);
            border: 1px solid var(--line);
            background: linear-gradient(145deg, #ffffff, #f5eeff);
        }

        .btn-secondary:hover { background: #f2edff; }

        .grid { display: grid; gap: 1rem; }
        .grid.two { grid-template-columns: repeat(2, minmax(0, 1fr)); }

        .row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.65rem;
            flex-wrap: wrap;
        }

        .list {
            margin: 0;
            padding: 0;
            list-style: none;
            display: grid;
            gap: 0.75rem;
        }

        .list li {
            border: 1px solid var(--line);
            border-radius: 13px;
            padding: 0.8rem 0.9rem;
            background: linear-gradient(160deg, #ffffff, #f7f1ff 70%, #edf8ff);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .list li:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 18px rgba(111, 79, 184, 0.14);
        }

        .muted { margin: 0.2rem 0 0; color: var(--muted); }

        .tag {
            border-radius: 999px;
            font-size: 0.76rem;
            font-weight: 700;
            padding: 0.24rem 0.58rem;
            color: #3f2f76;
            background: linear-gradient(90deg, #ece3ff, #dff3ff);
        }

        .stats { display: flex; flex-wrap: wrap; gap: 0.65rem; }

        .stat {
            min-width: 160px;
            border-radius: 12px;
            padding: 0.72rem 0.8rem;
            border: 1px solid var(--line);
            background: linear-gradient(155deg, #fcf9ff, #f0f8ff);
        }

        .stat small {
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 0.04em;
            font-weight: 700;
            font-size: 0.72rem;
            display: block;
            margin-bottom: 0.2rem;
        }

        .question {
            border: 1px solid var(--line);
            border-radius: 14px;
            padding: 0.85rem;
            margin-bottom: 0.9rem;
            background: #fff;
            animation: lift 0.35s ease;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .question:hover {
            border-color: #cfbdf3;
            box-shadow: 0 8px 18px rgba(111, 79, 184, 0.14);
        }

        .question-title {
            margin: 0 0 0.65rem;
            font-size: 0.98rem;
            line-height: 1.35;
        }

        .question ul,
        .question > div {
            margin: 0;
            padding: 0;
            display: grid;
            gap: 0.48rem;
        }

        .question label {
            margin: 0;
            padding: 0.48rem 0.65rem;
            border: 1px solid var(--line);
            border-radius: 10px;
            background: linear-gradient(145deg, #faf7ff, #f1f8ff);
            display: flex;
            align-items: center;
            gap: 0.52rem;
            cursor: pointer;
        }

        .question input[type="radio"] { accent-color: var(--brand); }

        .messages {
            margin-top: 0.9rem;
            display: grid;
            gap: 0.5rem;
        }

        .msg {
            margin: 0;
            padding: 0.62rem 0.8rem;
            border-radius: 10px;
            border: 1px solid transparent;
            font-weight: 500;
        }

        .msg.success { background: var(--success-bg); color: var(--success-text); border-color: #bfe8d0; }
        .msg.warning { background: var(--warning-bg); color: var(--warning-text); border-color: #f5dd9b; }
        .msg.error { background: var(--danger-bg); color: var(--danger); border-color: #f5c3c3; }
        .msg.info { background: var(--info-bg); color: var(--info-text); border-color: #c6dff4; }

        .errorlist {
            margin: 0.3rem 0 0;
            padding-left: 1rem;
            color: var(--danger);
            font-weight: 600;
            font-size: 0.85rem;
        }

        @keyframes fade {
            from { opacity: 0; transform: translateY(6px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes lift {
            from { opacity: 0; transform: translateY(9px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.18); }
        }

        @keyframes floaty {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            50% { transform: translateY(-14px) translateX(8px); }
        }

        .content > *:nth-child(1) { animation-delay: 0.02s; }
        .content > *:nth-child(2) { animation-delay: 0.08s; }
        .content > *:nth-child(3) { animation-delay: 0.14s; }

        @media (max-width: 860px) {
            .grid.two { grid-template-columns: 1fr; }
            .topbar { position: static; }
            .page { width: min(1120px, 100% - 1rem); margin-top: 0.75rem; }
            .topbar { align-items: flex-start; }
            .nav { width: 100%; justify-content: flex-start; }
        }
    </style>
</head>
<body>
    <div class="page">
        <header class="topbar">
            <div class="brand-wrap">
                <a class="brand" href="{% url 'quiz:dashboard' %}">Quiz Studio</a>
                <p class="brand-sub">Smart Exam Portal</p>
            </div>
            <nav class="nav">
                {% if request.user.is_authenticated %}
                    <a href="{% url 'quiz:dashboard' %}" class="{% if request.path == '/' %}active{% endif %}">Dashboard</a>
                    <a href="{% url 'quiz:participant_profile' %}" class="{% if '/participant-profile/' in request.path %}active{% endif %}">Profile</a>
                    {% if request.user.is_staff %}
                        <a href="{% url 'quiz:admin_dashboard' %}" class="{% if '/admin-panel/' in request.path %}active{% endif %}">Admin Panel</a>
                    {% endif %}
                    <a href="{% url 'quiz:logout' %}">Logout</a>
                {% else %}
                    <a href="{% url 'quiz:login' %}" class="{% if '/login/' in request.path %}active{% endif %}">Login</a>
                    <a href="{% url 'quiz:register' %}" class="{% if '/register/' in request.path %}active{% endif %}">Register</a>
                {% endif %}
            </nav>
        </header>

        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <p class="msg {{ message.tags|default:'info' }}">{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}

        <main class="content">
            {% block content %}{% endblock %}
        </main>
    </div>
</body>
</html>
